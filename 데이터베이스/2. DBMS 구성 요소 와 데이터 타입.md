# 데이터 베이스 시스템 구성과 데이터 타입

---

## 데이터 베이스 시스템 구성

### 데이터 베이스 기본구성

- 데이터베이스 : 하드 디스크에 저장된 데이터
- 데이터베이스 관리 시스템 : 주기억장치에 저장된 소프트웨어
- 데이터 모델 : 눈에 보이지 않는 논리적 개념으로 데이터가 저장되는 기법에 관한 내용이다.

![img](https://t1.daumcdn.net/cfile/tistory/993097415B28A70222)



### 질의 처리기

질의 처리기는 사용자의 **데이터 처리 요구를 해석**하여 처리하는 역할을 담당하고, 다음 주요 구성요소들을 포함함

- DDL 컴파일러 : 데이터 정의어로 작성된 스키마의 정의를 해석
- DML 프리 컴파일러 : 응용 프로그램에 삽입된 데이터 조작어를 추출하여 DML 컴파일러에게 전달
- DML 컴파일러 : 데이터 조작어로 작성된 데이터의 처리하여 분석하여 데이터베이스가 처리기가 이해할 수 있도록 처리
- 런타임 데이터베이스 처리기: 저장 데이터 관리자를 통해 데이터베이스에 접근하여 DML컴파일러부터 전달받은 데이터 처리 요구를 데이터베이스에서 실제로 실행함
- **트랜잭션 관리자: 데이터베이스에 접근하는 과정에서 사용자의 접근 권한이 유효한지 검사, DB의 무결성을 유지하기 위한 제약조건 위반 여부를 확인. 회복, 병행수행과 관련 작업도 담당.**

## char과 varchar의 차이점

- CHAR
  - **고정길이 문자열 타입**으로 만약 타입의 크기만큼의 데이터가 들어오지 않으면 않은 경우 **이후의 공간을 스페이스로 채워**넣습니다.
  - **고정길이 문자열**이기 때문에 헤더에는 **레코드의 길이에 대한 정보**가 들어있지 않습니다.
- VARCHAR
  - **가변길이 문자열 타입**으로 타입의 크기만큼 데이터가 들어오지 않더라도 이후의 공간을 스페이스로 채워 넣지 않습니다.
  - 가변길이 문자열이기 때문에 헤더에는 레코드의 길이에 대한 정보가 포함되어야 합니다.

- 예를들어 CHAR(5) 와 VARCHAR(5) 에 데이터 ABC 가 들어오는 경우 아래처럼 저장이 됩니다.

![img](https://t1.daumcdn.net/cfile/tistory/9920E93B5BE3D84E1E)



**CHAR 와 VARCHAR 어느것을 사용해야 할까?**

------



**속도**

VARCHAR 는 CHAR 타입에 대비해서 레코드의 길이가 몇이다 라는 연산을 거쳐야 합니다.

당연히 속도상에서 아주아주 미세하게 이점이 있을 수 있습니다.

그러나 이 이점은 정말 지나칠 정도의 민감함이며, VARCHAR 를 사용하여 성능저하가 느껴진다 라고 느낄일은 없다고 생각됩니다.



**공간**

CHAR 는 고정길이 공간 입니다. 초기의 데이터에서 더 긴 경우의 데이터로 갱신되는 경우 이미 할당해 놓은 공간을 재사용합니다.

VARCHAR 는 가변길이 공간 입니다. 초기의 데이터에서 더 긴 경우의 데이터로 갱신되는 경우 해당 공간에 쓰지 못하고 **데이터 마이그레이션 현상**이 나타날 수 있습니다.

그러나 벤더사별로 REORG, REBUILD 라는 분할된 블럭등을 정리하는 기능이 나오고 있습니다. 이미 나온곳도 있습니다.

그래서 VARCHAR 의 블럭분할 현상도 갱신되었다고 봅니다.

프로젝트는 진행되면서 얼마든지 변할 수 있습니다.

오히려 고정공간을 만들어 놓았다가 빈 공간에 대한 비용이 더 큰 경우가 생길 수 있으므로 저는 VARCHAR 를 추천합니다.
