# 데이터 베이스

---

## 0. 데이터 베이스 시스템

데이터베이스에 데이터를 저장하고, 저장된 데이터를 관리하여 조직에 필요한 정보를 생성해 주는 시스템.

![img](https://blog.kakaocdn.net/dn/qgPaB/btryDPLAc97/cOPY06BBTbUTjnVcVqt5KK/img.png)

## 1. 스키마

- 데이터베이스에 저장되는 데이터 구조와 제약조건을 정의한 것이다.
- 고객(고객번호 (INT), 이름(CHAR(10)), 나이(INT), 주소(CHAR(20)) )
- 인스턴스 : 정의된 스키마에 따라 DB에 저장된 실제값



## 2. 3단계 데이터 베이스 구조

---

- 3단계 데이터베이스 구조는
  - **개별 사용자 관점**에서 바라보는 외부단계(External level),
  - **조직 전체의 관점**에서 바라보는 개념단계(Conceptual level),
  - 물리적인 저장 장치의 관점에서 바라보는 내부단계(Internal level)로 나눈다.
- 데이터베이스 하나를 세 단계로 나누고, 각 단계별로 다른 추상화(Abstarction)를 제공하면 데이터 베이스를 효과적으로 관리할 수 있다.
- 내부 단계에서 외부 단계로 갈수록 추상화 레벨이 높아진다. 

![img](https://blog.kakaocdn.net/dn/tm4ol/btryAYpzBC1/G1VYfCxvQKJ9sQAR2qOgDk/img.png)

### 외부단계 : 사용자 관점

- 하나의 DB를 여러 사용자들이 사용 목적에 따라 필요한 데이터가 다르고 해당 데이터에만 관심이 있음
- 개별 사용자 관점에서 데이터베이스를 이해하고 표현
- 외부 단계에서는 **개별 사용자가 DB를 어떻게 보는가를 표현**하므로 사용자마다 생각하고 있는 DB구조가 다름
- 외부 단계에서 사용자에게 필요한 데이터베이스를 정의한 것을
  - 외부 스키마: 각 사용자가 생각하는 DB의 모습을 표현한 논리적 구조**(사용자마다 다름)**

### 개념 단계 : 조직 관점, 모든 사용자 관점 통합

- DB를 이용하는 **사용자들의 관점을 통합**하여, DB를 조**직 전체의 관점에서 이해하고 표현**함
- DBMS나 DB관리자는 DB의 일부분이 아닌 전체 DB에 관심을 둠
- 개념 단계에서 DBMS나 DB관리자의 관점에서 **모든 사용자에게 필요한 데이터를 통합해 전체 DB의 논리적 구조**로 정의하는 것을 **개념스키마**라고 한다.
  - 개념 스키마는 조직 전체 관점에서 생각하는 DB의 모습, 모든 개별 사용자가 생각하는 DB의 모습을 하나로 합친 형태
  - 개념 스키마는 전체 DB에 어떤 **데이터가 저장**되고 데이터들 간에 어떤 **관계**와 **제약조건**이 있는지에 대한 정의와 데이터에 대한 보안 정책, 접근권한에 대한 정의도 포함함
  - 데이터를 물리적으로 저장하는 방법, 저장장치와 독립적
  - **하나의 DB에는 하나의 개념 스키마가 존재함**

### 내부 단계

- DB를 저장 장치의 관점에서 이해하고 표현
- 내부단계에서는 전체 DB가 저장 장치에 **실제로 저장되는 방법을 정의**하며 이를 **내부 스키마** 라고 함
  - DB는 저장 장치에 **파일 형태**로 저장됨
  - 내부 스키마는 파일에 데이터를 저장하는 **레코드의 구조**, 레코드를 구성하는 **필드의 크기**, **인덱스**를 이용한 레코드 접근경로 등을 정의함
  - 내부 스키마는 DB의 개념 **스키마에 대한 물리적인 저장 구조를 표현**하므로 하나의 DB에 하나만 존재한다.

![img](https://blog.kakaocdn.net/dn/qDzR7/btryFn11xVj/UOE8aicMLre5emVFo8iHa1/img.png)

## 3. 데이터 독립성

---

실제 데이터는 물리적 저장 장치에 저장된 DB에만 존재하므로 사용자가 자신의 외부 스키마를 통해 원하는 데이터를 얻으려면 **내부 스키마에 따라 저장된 DB에 접근해야 한다**.

세가지 스키마 사이에는 유기적 대응관계가 성립해야 한다.

 예를들어 위의 3단계 데이터베이스 구조에서 상품 배송팀의 외부 스키마에 있는 고객번호는 개념 스키마에 있는 번호와 대응하며 개념 스키마의 번호는 내부 스키마에 있는 번호 필드에 대응한다는 연결관계가 미리 정의되어 있어야 한다.

왜냐하면 사용자가 물리적 저장 장치에 저장된 고객번호 데이터에 접근할 수 있기 때문이다.



스키마 사이의 대응관계를 **사상 또는 매핑 한다.**
DB를 3단계로 나누고 단게별 스키마를 유지하며 사상을 정의하는 이유는 **데이터 독립성**을 추구하기 위해서다.

**데이터 독립성**은 **하위 스키마를 변경하더라도 상위 스키마가 영향을 받지 않는 특성** 이다.

데이터 독립성은 DBMS의 장점이자 DBMS가 필요한 이유이다.![img](https://blog.kakaocdn.net/dn/F9Xzo/btryDPTtppQ/g1ICqh7uDiOZPtQBrQ6zWK/img.png)

### [논리적 데이터 독립성](https://whitehairhan.tistory.com/250#%EB%--%BC%EB%A-%AC%EC%A-%--%--%EB%-D%B-%EC%-D%B-%ED%--%B-%--%EB%-F%--%EB%A-%BD%EC%--%B-)

- 개념 스키마가 변경되더라도 외부 스키마가 영향을 받지 않는 것.
- 전체 DB의 논리적 구조가 변경되어도 관련된 **외부/개념 사상 정보를 수정**하면 사용자를 위한 외부 스키마를 따로 수정할 필요가 없음
- 외부/개념 사상은 외부 스키마와 개념 스키마의 대응관계를 정의한 것 (응용 인터페이스 라고 함)

### [물리적 데이터 독립성](https://whitehairhan.tistory.com/250#%EB%AC%BC%EB%A-%AC%EC%A-%--%--%EB%-D%B-%EC%-D%B-%ED%--%B-%--%EB%-F%--%EB%A-%BD%EC%--%B-)

- 내부 스키마가 변경되더라도 개념 스키마가 영향을 받지 않는 것.
- 결과적으로 외부 스키마도 영향을 받지 않음.
- 물리적 데이터 독립성이 실현되면 DB의 저장 구조가 변경되어도 관련된 개념/내부 사상 정보만 적절히 수정하면 직접적으로 관련없는 DB의 논리적구조는 영향을 받지 않음.
- 개념/내부 사상은 개념 스키마와 내부 스키마의 대응관계를 정의한 것(저장 인터페이스 라고 함)

 

## [데이터 사전 (=시스템 카탈로그)](https://whitehairhan.tistory.com/250#%EB%-D%B-%EC%-D%B-%ED%--%B-%--%EC%--%AC%EC%A-%--%---%-D%EC%-B%-C%EC%-A%A-%ED%--%-C%--%EC%B-%B-%ED%--%--%EB%A-%-C%EA%B-%B--)

- 데이터베이스에 저장되는 **데이터에 관한 정보를 저장하는 곳**
- 스키마, 사상정보, 다양한 제약조건 등을 저장하고 있음
- DB에 저장된 데이터에 관한 정보 즉, 데이터에 대한 데이터를 의미하는 **메타데이터** 를 유지하는 것을 의미함
- 데이터베이스 관리 시스템이 **스스로 생성하고 유지**하는 것으로, 데이터베이스 관리시스템이 주로 접근하지만 일반 사용자도 접근 할 수 있다.